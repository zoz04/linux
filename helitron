# arquivo original "head Psta.VARANI.bed" tinha # entre as infos e não estava em tab delimited
# scripit "awk '$1 != "###" {OFS="\t"; print $1,$2,$3,$4}' Psta.VARANI.bed > Psta.VARANI.tab" resolveu

#filtrei os helitrons de um arquivo contendo todos os TEs e os transferi pra um arquivo proprio
 cat Psta.VARANI.tab | grep "helitron" > Psta_VARANI_helitron
#entrei p editar em formato .bed -> que pode apenas 3 colunas (cromossomo-coluna 1; localização-3 e 4;) (coluna 2 só indicava que era helitron)  
cat Psta_VARANI_helitron | cut -f 1,3,4 > Psta_VARANI_helitron.bed

Comando awk para gerar BED, reordenando as colunas(p virar um arquivo bed e mantendo a anotação dos TEs)
awk 'BEGIN{OFS="\t"} {print $1, $3-1, $4, $2}' Psta.VARANI.tab > Psta.VARANI.bed

intersecção entre os segmentos que tem dmr e os que configuram TEs  
:~/enzo/METIL$ bedtools intersect -a Psta.VARANI.bed -b allo_CpG_DMR_significativas_formatado.bed -wa -wb > results/annotation_transposons_allo_CpG_significativas.results

#bedtools intersect mantendo as informações contidas nas colunas de ambos os arquivos (-wa -wb)
bedtools intersect -a Psta.VARANI.bed -b allo_CpG_DMR_significativas_formatado.bed -wa -wb > results/annotation_transposons_allo_CpG_significativas.results 

#abrir e criar um arquivo 
nano count_TE_methylation.py
#inseri um script e salvei dando ctrl x
________________________________________________
#transformar arquivo csv(virgulas e aspas) em tab delimited
#criando um script em python (nano abre o arquivo) - mudar o nome do input e output de acordo com a necessidade
nano csv_para_tsv.py 
#sempre colocar o .py -> script em python e colar o script dentro arquivo

#o arquivo tinha mtas colunas c infos desnecessarias pro meu intersect, ent selecionamos as colunas
cat allo_CHG_DMR_significativas.tsv | cut -f 2,3,4,9
#p conferir se deu certo antes de salvar 
cat allo_CHG_DMR_significativas.tsv | cut -f 2,3,4,9 | head
#salvar o arquivo -> transferir ele (>)
allo_CHG_DMR_significativas.tsv | cut -f 2,3,4,9 > allo_CHG_DMR_significativas.bed

#começando a conversao dos dados da urca, n consegui usar o csv_para_tsv.py pq ele tava na pasta anterior, ent pra transferir/copiar o arquivo
cp ../csv_para_tsv.py .
